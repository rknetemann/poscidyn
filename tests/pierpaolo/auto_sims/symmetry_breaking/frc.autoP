import time
from auto import run, load, clean, plot
import numpy as np

clean()
frc = load('frc')

A_values = np.linspace(0.03, 0.3, 10)

results = []
per_run_time = {}

# ---- total timer start ----
total_start = time.time()

for A in A_values:
    print(f"Running continuation for PAR(1) = {A}")
    
    t0 = time.time()
    
    sol = run(
        frc,
        PAR={1: A, 3: 0.00},
        RL0=0.5,
        RL1=1.5,
        ICP=[2],          # continue in PAR(2)=omega
    )
    
    dt = time.time() - t0
    per_run_time[A] = dt
    
    print(f"Completed in {dt:.2f} seconds\n")

    results.append(sol)

# ---- total timer end ----
total_elapsed = time.time() - total_start

print("=====================================")
print(f"TOTAL TIME FOR ALL RUNS: {total_elapsed:.2f} seconds")
print("=====================================")

# Combine for plotting
all_runs = results[0]
for sol in results[1:]:
    all_runs = all_runs + sol

p1 = plot(all_runs)

